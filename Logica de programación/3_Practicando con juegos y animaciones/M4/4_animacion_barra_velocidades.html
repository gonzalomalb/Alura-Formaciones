<canvas width="600" height="400"> </canvas>

<script>

    var pantalla = document.querySelector("canvas");
    var pincel = pantalla.getContext("2d");    
    pincel.fillStyle = "grey";
    pincel.fillRect(0,0,600,400);

    function disenhoCirculo(x,radio){
        for(y = 0; y < 400; y = y + 20){
            pincel.fillStyle = "blue"; 
            pincel.beginPath();
            pincel.arc(x, y, radio, 0, 2*Math.PI);
            pincel.fill();
        }   
    }

    function limpiarPantalla(){

        pincel.clearRect(0,0,600,400);
        pincel.fillStyle = "grey";
        pincel.fillRect(0,0,600,400);
    }

    var x = 0;
    var movimiento = 0
    var direccion = 1;
    var velocidad = 1;
    
    function dibujarPantalla(){
        limpiarPantalla();
        disenhoCirculo(x,10);
        console.log(movimiento);
        x = x + (direccion * movimiento);
        if(movimiento > 100){
            velocidad = -1;
        }else if(movimiento <= 0){
            velocidad = 1;
        }
        if(x <= 0){
            direccion = 1;
            movimiento = movimiento + velocidad;     
        }else if(x >= 600){
            direccion = -1;
            movimiento = movimiento + velocidad;   
        }
    }
    
    setInterval(dibujarPantalla, 5);

</script>